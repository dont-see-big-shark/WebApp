var e;(0,(e=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire951b).register)("dqjeL",function(t,r){Object.defineProperty(t.exports,"__esModule",{value:!0,configurable:!0}),Object.defineProperty(t.exports,"default",{get:function(){return P},set:void 0,enumerable:!0,configurable:!0});var n,l,o,a,i,c,s,u,d,f=e("dxPlC"),h=e("74VEB"),m=e("6IIPT"),b=e("9Um8W"),p=e("kPaC9"),v=e("lRPiZ"),j=e("hiQdF"),g=e("jOtlI"),y=e("783lP"),x=e("jcToA"),w=e("912gW"),P=(o=[(0,g.component)({tagName:"user-admin"}),g.observer],a=[],c=l=/*#__PURE__*/function(e){(0,b._)(r,e);var t=(0,v._)(r);function r(){var e;return(0,h._)(this,r),e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),Object.defineProperty((0,f._)(e),"filter",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty((0,f._)(e),"loadMore",{enumerable:!0,configurable:!0,writable:!0,value:function(t){if("bottom"===t)return(0,w.user).getList(e.filter)}}),Object.defineProperty((0,f._)(e),"search",{enumerable:!0,configurable:!0,writable:!0,value:function(t){t.preventDefault();var r=t.target.elements.item(0).value;return(0,w.user).getList(e.filter=r?{phone:r}:{},1)}}),Object.defineProperty((0,f._)(e),"renderItem",{enumerable:!0,configurable:!0,writable:!0,value:function(t){var r,n=t.mobilePhoneNumber,l=t.createdAt,o=t.roles,a=t.objectId;return(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{children:n}),(0,j.jsx)("td",{children:new Date(l).toLocaleString()}),(0,j.jsx)("td",{children:null===(r=w.user.roles)||void 0===r?void 0:r.map(function(t){var r=t.objectId,n=t.name;return(0,j.jsx)(y.FormCheck,{type:"switch",label:(0,j.jsx)(j.Fragment,{children:n}),value:r,checked:o.includes(n),onClick:function(t){return e.toggleRole(a,r,t)}})})})]},a)}}),e}return(0,m._)(r,[{key:"mountedCallback",value:function(){(0,w.user).getRoles()}},{key:"toggleRole",value:function(e,t,r){return r.target.checked?(0,w.user).addRole(e,t):(0,w.user).removeRole(e,t)}},{key:"render",value:function(){var e=w.user.allItems,t=w.user.noMore;return(0,j.jsxs)(x.SessionBox,{children:[(0,j.jsxs)("header",{className:"d-flex justify-content-between",children:[(0,j.jsx)("h1",{children:"用户管理"}),(0,j.jsxs)("form",{className:"d-flex",onSubmit:this.search,children:[(0,j.jsx)(y.FormControl,{type:"search",className:"me-3",name:"phone"}),(0,j.jsx)(y.Button,{className:"text-nowrap",type:"submit",variant:"primary",children:"搜索"})]})]}),(0,j.jsxs)(y.ScrollBoundary,{onTouch:this.loadMore,children:[(0,j.jsxs)(y.Table,{className:"text-center",striped:!0,hover:!0,children:[(0,j.jsx)("thead",{children:(0,j.jsxs)("tr",{children:[(0,j.jsx)("th",{children:"手机号"}),(0,j.jsx)("th",{children:"注册时间"}),(0,j.jsx)("th",{children:"角色"})]})}),(0,j.jsx)("tbody",{children:e.map(this.renderItem)})]}),(0,j.jsx)("p",{slot:"bottom",className:"text-center mt-2",children:t?"没有更多数据了":"加载更多..."})]})]})}}]),r}(i=HTMLElement),s="UserAdmin","symbol"===(0,p._)(s)&&(s=s.description?"[".concat(s.description,"]"):""),Object.defineProperty(c,"name",{configurable:!0,value:s}),d="function"==typeof Symbol&&Symbol.metadata?Object.create(null!==(u=i[Symbol.metadata])&&void 0!==u?u:null):void 0,function(e,t,r,n,l,o){function a(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var i,c=n.kind,s="getter"===c?"get":"setter"===c?"set":"value",u=t||{},d=!1,f=r.length-1;f>=0;f--){var h={};for(var m in n)h[m]="access"===m?{}:n[m];for(var m in n.access)h.access[m]=n.access[m];h.addInitializer=function(e){if(d)throw TypeError("Cannot add initializers after decoration has completed");o.push(a(e||null))};var b=(0,r[f])("accessor"===c?{get:u.get,set:u.set}:u[s],h);if("accessor"===c){if(void 0===b)continue;if(null===b||"object"!=typeof b)throw TypeError("Object expected");(i=a(b.get))&&(u.get=i),(i=a(b.set))&&(u.set=i),(i=a(b.init))&&null.unshift(i)}else(i=a(b))&&("field"===c?null.unshift(i):u[s]=i)}d=!0}(0,n={value:l},o,{kind:"class",name:l.name,metadata:d},null,a),l=n.value,d&&Object.defineProperty(l,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:d}),function(e,t,r){for(var n=arguments.length>2,l=0;l<t.length;l++)r=n?t[l].call(e,r):t[l].call(e)}(l,a),l)});